# 1. 생성자 < 정적 팩터리 메서드 

`public static Boolean valueOf(boolean b) {}`

클래스는 인스턴스 얻기 위해 전통적으로 public 생성자 이용하지만, 클래스의 인스턴스를 반환하는 정적 메서드(정적 팩터리 메서드)가 존재


### <장점>
### 1. 이름 : 반환될 객체의 특성 묘사
- 생각 표현 (매개변수 순서가 다른 생성자에 의미 부여 가능) 
- 소수 반환 인스턴스 : BigInteger() VS BigInteger.probablePrime

### 2. 호출마다 새 인스턴스 생성 불필요
- 불변 클래스에서는 미리 만들거나 재활용 => 인스턴스 (생존 여부) 통제 : 싱글턴, 인스턴스화 불가 등
- ` public static Boolean valueOf(boolean b) {}` 에서는 객체 생성 X => 성능 향상

### 3. 유연성
- 하위 타입의 객체 반환 가능 : 구현 클래스 공개 없이 객체 반환 가능 => api 작게, 학습 난이도 감소
- 매개변수에 따라 다른 클래스 객체 반환 가능 : 반환 타입의 하위인 모든 클래스 객체 반환이 가능함
- 정적 팩터리 메서드 작성 시점에 반환 클래스 존재하지 않아도 가능

### <단점>
- 상속 < 컴포지션 유도 : 상속을 위해 public, protected 생성자 필요에 따라 정적 팩터리만 제공으로는 하위 클래스 생성 불가
- 정적 팩터리 메서드 찾기 어려움 : api 설명에 드러나지 않음
  - `Integer.valueOf('123')` : valueOf 인스턴스 타입 변경 메서드

---

## 2. 매개변수 많은 경우, Builder


### <생성자 패턴>
### 1. 점층적 생성자 패턴
- 필수 인자를 받는 생성자를 정의
- 이후에 선택적인자를 하나씩 추가해가며 정의

단점 : 매개변수 증가할 수록 코드 작성 어렵고, 가독성 떨어짐

### 2. JavaBeans Pattern
- 매개변수가 없는 생성자로 객체 생성
- setter 메서드를 호출로 매개변수 값 설정

점층적 생성자 패턴을 보완했지만,<br>
단점 : 메서드 여러번 호출과 완전한 생성 전까지 일관성 무너진 상태(클래스 불변 불가능)

### 3. Builder Pattern : 안정성 + 가독성
`new Item.Builder("1", "Effective Java 3/E", "2").price(100).sellTypeCd("0").build();`
- 필수 매개변수만으로 생성자를 호출해 빌더 객체 생성
- setter 메서드들로 원하는 선택 매개변수들을 설정
- build() 메서드를 호출해 필요한 객체 생성


method chaining =  fluent API : 연쇄적으로 메서드를 호출하는 방식<br/>
계층적으로 설계된 클래스와 사용하기에 좋음 (`super()`을 통해서 상위 클래스의 builder 설정)

### 결론
- Builder : 대부분의 인자가 선택적 인자인 상황에 유용
- 장점 : 점층적 생성자보다 간결하고, 자바빈즈보다 훨씬 안전
- 단점 : 매개변수가 4개 이상이 되어야 값어치를 하며, 빌더 생성 비용이 문제될 수도 있음


